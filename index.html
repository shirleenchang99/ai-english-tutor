<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI English Tutor</title>
<style>
body { font-family: Arial, sans-serif; background:#f0f6ff; margin:0; padding:0;}
header { background:#1E88E5; color:white; padding:15px; font-size:22px; text-align:center;}
.nav { display:flex; justify-content:space-around; background:white; padding:10px 0;}
.nav button { background:#e3f2fd; border:none; padding:8px 16px; border-radius:6px; cursor:pointer;}
.section { padding:20px; display:none;}
.section.active {display:block;}
.card { background:white; padding:20px; border-radius:10px; margin-top:10px;}
input, button { font-size:18px; padding:10px; border-radius:6px; border:1px solid #bbb; margin-top:10px;}
button { background:#1E88E5; color:white; border:none; cursor:pointer;}
.word-btn { background:#64b5f6; width:100%; margin:5px 0;}
</style>
</head>
<body>

<header>AI English Tutor</header>

<div class="nav">
  <button onclick="showSection('listen')">ğŸ§ é—¯å…³å¬å†™</button>
  <button onclick="showSection('words')">ğŸ“š ç”Ÿè¯æœ¬</button>
</div>

<!-- é—¯å…³å¬å†™ -->
<div id="listen" class="section active">
  <div><b>å½“å‰å…³å¡ï¼š</b><span id="levelDisplay">1</span></div>
  <div class="card">
    <div id="sentenceDisplay">ç‚¹å‡»â€œæ’­æ”¾å¥å­â€å¼€å§‹</div>
    <button onclick="playSentence()">â–¶ æ’­æ”¾å¥å­</button><br>
    <input id="answer" placeholder="è¾“å…¥å¬åˆ°çš„è‹±æ–‡å¥å­">
    <button onclick="checkAnswer()">æäº¤</button>
    <div id="result"></div>
    <div><b>å®Œæˆå¥æ•°ï¼š</b><span id="doneCount">0</span>/5</div>
  </div>
</div>

<!-- ç”Ÿè¯æœ¬ -->
<div id="words" class="section">
  <div class="card">
    <b>ç”Ÿè¯æœ¬ï¼š</b>
    <ul id="wordList"></ul>
    <button onclick="clearWords()">æ¸…ç©ºç”Ÿè¯æœ¬</button>
  </div>
</div>

<script>
// ğŸŒŸ åˆç‰ˆå¥å­åº“ï¼ˆç¤ºä¾‹200å¥å¯æ‰©å±•ï¼‰
const sentences = [
"I like to play football with my friends.",
"She reads a book every evening before bed.",
"We are going to the park this afternoon.",
"My father cooks delicious food on weekends.",
"The cat is sleeping under the warm blanket.",
"He enjoys drawing pictures in his notebook.",
"Today is a sunny day for a picnic.",
"Please help me carry these heavy bags.",
"My little sister loves her new doll.",
"We watched a movie together last night."
// â€¦ä½ å¯ä»¥ç»§ç»­æ‰©å±•åˆ°200å¥
];

let currentSentence = "";
let doneCount = 0;
let level = 1;
let wrongWords = JSON.parse(localStorage.getItem("wrongWords")||"[]");

// åˆ‡æ¢ç•Œé¢
function showSection(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  showWrongWords();
}

// æ’­æ”¾å¥å­
function playSentence(){
  currentSentence = sentences[Math.floor(Math.random()*sentences.length)];
  document.getElementById("sentenceDisplay").innerText = currentSentence;
  const utter = new SpeechSynthesisUtterance(currentSentence);
  utter.lang = "en-US";
  speechSynthesis.speak(utter);
}

// åˆ¤åˆ†
function checkAnswer(){
  const ans = document.getElementById("answer").value.trim().toLowerCase();
  if(ans === currentSentence.toLowerCase()){
    document.getElementById("result").innerHTML = "âœ” æ­£ç¡®ï¼";
    doneCount++;
    document.getElementById("doneCount").innerText = doneCount;
    if(doneCount >=5){
      level++;
      doneCount = 0;
      alert("ğŸ‰ å®Œæˆæœ¬å…³ï¼Œè§£é”ä¸‹ä¸€å…³ï¼å½“å‰å…³å¡ï¼š" + level);
      document.getElementById("levelDisplay").innerText = level;
    }
  }else{
    document.getElementById("result").innerHTML = "âŒ é”™ï¼æ­£ç¡®ï¼š" + currentSentence;
    wrongWords.push(currentSentence);
    localStorage.setItem("wrongWords", JSON.stringify(wrongWords));
  }
  document.getElementById("answer").value = "";
  showWrongWords();
}

// ç”Ÿè¯æœ¬
function showWrongWords(){
  const ul = document.getElementById("wordList");
  ul.innerHTML = "";
  wrongWords.forEach(w=>{ul.innerHTML += `<li>${w}</li>`});
}

function clearWords(){
  wrongWords = [];
  localStorage.setItem("wrongWords", JSON.stringify(wrongWords));
  showWrongWords();
}

</script>
</body>
</html>
